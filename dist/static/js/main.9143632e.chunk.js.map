{"version":3,"sources":["services/api.js","views/New/index.jsx","components/Post/index.jsx","views/Feed/index.jsx","routes.jsx","components/Header/index.jsx","App.jsx","index.jsx","assets/icons/more.svg","assets/icons/like.svg","assets/icons/send.svg","assets/icons/comment.svg","assets/imgs/logo.svg","assets/icons/camera.svg"],"names":["axios","create","baseURL","process","timeout","New","state","image","author","place","hashtag","description","handleSubmit","evt","a","preventDefault","data","FormData","append","Api","post","props","history","push","handleImageChange","setState","target","files","handleChange","name","value","id","onSubmit","this","type","onChange","placeholder","Component","Post","handleLike","_id","put","className","src","more","alt","url","like","onClick","_","comment","send","likes","Feed","feed","registerToSocket","socket","socketIOClient","on","newPost","likedPost","map","get","response","key","path","exact","component","to","logo","camera","App","Header","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.9143632e.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  timeout: 20000\n});\n","import React, { Component } from \"react\";\n\nimport Api from \"../../services/api\";\n\nimport \"./styles.css\";\n\nclass New extends Component {\n  state = {\n    image: null,\n    author: \"\",\n    place: \"\",\n    hashtag: \"\",\n    description: \"\"\n  };\n\n  handleSubmit = async evt => {\n    evt.preventDefault();\n\n    const data = new FormData();\n\n    data.append(\"image\", this.state.image);\n    data.append(\"author\", this.state.author);\n    data.append(\"place\", this.state.place);\n    data.append(\"description\", this.state.description);\n    data.append(\"hashtag\", this.state.hashtag);\n\n    await Api.post(\"/posts\", data);\n\n    this.props.history.push(\"/\");\n  };\n\n  handleImageChange = evt => {\n    this.setState({ image: evt.target.files[0] });\n  };\n\n  handleChange = evt => {\n    this.setState({ [evt.target.name]: evt.target.value });\n  };\n\n  render() {\n    return (\n      <form id=\"new-post\" onSubmit={this.handleSubmit}>\n        <input type=\"file\" onChange={this.handleImageChange}></input>\n\n        <input\n          type=\"text\"\n          name=\"author\"\n          placeholder=\"Autor\"\n          onChange={this.handleChange}\n          value={this.state.author}\n        ></input>\n        <input\n          type=\"text\"\n          name=\"place\"\n          placeholder=\"Local\"\n          onChange={this.handleChange}\n          value={this.state.place}\n        ></input>\n        <input\n          type=\"text\"\n          name=\"description\"\n          placeholder=\"Descrição\"\n          onChange={this.handleChange}\n          value={this.state.description}\n        ></input>\n        <input\n          type=\"text\"\n          name=\"hashtag\"\n          placeholder=\"Hashtag\"\n          onChange={this.handleChange}\n          value={this.state.hashtag}\n        ></input>\n\n        <button type=\"submit\">Enviar</button>\n      </form>\n    );\n  }\n}\n\nexport default New;\n","import React, { Component } from \"react\";\n\nimport Api from \"../../services/api\";\n\nimport more from \"../../assets/icons/more.svg\";\nimport like from \"../../assets/icons/like.svg\";\nimport send from \"../../assets/icons/send.svg\";\nimport comment from \"../../assets/icons/comment.svg\";\n\nimport \"./styles.css\";\n\nclass Post extends Component {\n  handleLike = async _id => {\n    await Api.put(`/posts/${_id}/likes`);\n  };\n\n  render() {\n    return (\n      <article className=\"post\">\n        <header>\n          <div className=\"info\">\n            <span>{this.props.post.author}</span>\n            <span className=\"place\">{this.props.post.place}</span>\n          </div>\n\n          <img src={more} alt=\"Mais\"></img>\n        </header>\n\n        <img\n          className=\"image\"\n          src={this.props.post.image.url}\n          alt={this.props.post.image.name}\n        ></img>\n\n        <footer>\n          <div className=\"actions\">\n            <img\n              className=\"like\"\n              src={like}\n              alt=\"like\"\n              onClick={_ => this.handleLike(this.props.post._id)}\n            ></img>\n            <img src={comment} alt=\"comment\"></img>\n            <img src={send} alt=\"send\"></img>\n          </div>\n\n          <strong>{this.props.post.likes} curtidas</strong>\n\n          <p className=\"desc\">\n            {this.props.post.description}\n            <span className=\"hashtag\">{this.props.post.hashtag}</span>\n          </p>\n        </footer>\n      </article>\n    );\n  }\n}\n\nexport default Post;\n","import React, { Component } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nimport Api from \"../../services/api\";\nimport Post from \"../../components/Post\";\n\nimport \"./styles.css\";\n\nclass Feed extends Component {\n  state = {\n    feed: []\n  };\n\n  async componentDidMount() {\n    this.registerToSocket();\n    const response = await Api.get(\"/posts\");\n\n    this.setState({ feed: response.data });\n  }\n\n  registerToSocket = _ => {\n    const socket = socketIOClient(process.env.REACT_APP_API_URL);\n\n    socket.on(\"post\", newPost => {\n      this.setState({ feed: [newPost, ...this.state.feed] });\n    });\n\n    socket.on(\"like\", likedPost => {\n      this.setState({\n        feed: this.state.feed.map(post =>\n          post._id === likedPost._id ? likedPost : post\n        )\n      });\n    });\n  };\n\n  render() {\n    return (\n      <section id=\"post-list\">\n        {this.state.feed.map(post => (\n          <Post key={post._id} post={post}></Post>\n        ))}\n      </section>\n    );\n  }\n}\n\nexport default Feed;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport New from \"./views/New\";\nimport Feed from \"./views/Feed\";\n\nexport default _ => (\n  <Switch>\n    <Route path=\"/\" exact component={Feed}></Route>\n    <Route path=\"/new\" component={New}></Route>\n  </Switch>\n);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./styles.css\";\n\nimport logo from \"../../assets/imgs/logo.svg\";\nimport camera from \"../../assets/icons/camera.svg\";\n\nexport default _ => (\n  <header id=\"main-header\">\n    <div className=\"header-content\">\n      <Link to=\"/\">\n        <img src={logo} alt=\"InstaDev\"></img>\n      </Link>\n\n      <Link to=\"/new\">\n        <img src={camera} alt=\"Enviar publicação\"></img>\n      </Link>\n    </div>\n  </header>\n);\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Routes from \"./routes\";\nimport Header from \"./components/Header\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Header></Header>\n\n      <Routes></Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/more.6477aa76.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.416be3a7.svg\";","module.exports = __webpack_public_path__ + \"static/media/send.d7c8392c.svg\";","module.exports = __webpack_public_path__ + \"static/media/comment.c3bcd2e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.2f13f116.svg\";","module.exports = __webpack_public_path__ + \"static/media/camera.49d77fc8.svg\";"],"sourceRoot":""}